\section{Data generator} \label{sec:sdgenerator}

For the training purposes of the network, we are developing a data generator. More specifically we are using the starGen and extending it to fit the needs of our thesis. The generator script is depicted in the Figure \ref{img:starGenActiviyDiagram}. 
In the beginning, the script reads the configuration file, which contains the general settings as well as settings for each generated object. The script generates multiple series and each series contains an arbitrary number of frames. The script supports the generation of stars, moving objects, clusters, and galaxies. Stars and galaxies are static in each frame, while clusters and moving objects move in consecutive frames. To make the images as realistic as possible, the script adds Gaussian and Poisson noise. It also supports defects such as hot pixels and cosmic rays. Other defects and noises are supported in a form of adding real BIAS, DARK and FLAT FIELD frames to the generated image. Other features of starGen include saving positions to TSV files, saving images in a form of FITS and PNG files, and plotting the images in the environment. It also includes the option to read the positions and brightness values of objects from the TSV file. 

\begin{figure}[h]
    \centering
    \includegraphics[width=\textwidth]{images/starGen2.jpg}
    \caption{Activity diagram of starGen script.}
    \label{img:starGenActiviyDiagram}
\end{figure}


\input{software design/generator/general}
\input{software design/generator/objects}
\input{software design/generator/defects}

